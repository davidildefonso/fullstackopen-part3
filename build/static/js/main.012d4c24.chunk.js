(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n.n(a),c=n(3),o=n.n(c),u=n(8),i=n(4),s=n(1),l=n(0),d=function(e){var t=e.changeHandler,n=e.label,a=e.value;return Object(l.jsxs)("div",{children:[n," ",Object(l.jsx)("input",{value:a,onChange:t})]})},b=function(e){return Object(l.jsxs)("form",{onSubmit:e.onSubmit,children:[e.inputData.map((function(e){return Object(l.jsx)(d,{changeHandler:e.changeHandler,value:e.value,label:e.label},e.id)})),Object(l.jsx)("div",{children:Object(l.jsxs)("button",{type:"submit",children:[e.buttonText," "]})})]})},h=function(e){var t=e.data,n=e.handleClick;return Object(l.jsx)("ul",{children:t.map((function(e){return Object(l.jsxs)("li",{children:[" ",e.name," ",e.number," ",Object(l.jsx)("button",{onClick:function(){return n(e.id)},children:"Delete"})," "]},e.id)}))})},f=function(e){if("title"===e.section)return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h2",{children:[" ",e.title," "]}),Object(l.jsx)(d,{changeHandler:e.changeHandler,value:e.searchName,label:e.label})]});if("form"===e.section){var t=[{id:1,changeHandler:e.changeHandlerName,value:e.valueName,label:e.labelName},{id:2,changeHandler:e.changePhoneHandler,value:e.valuePhone,label:e.labelPhone}];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:e.title}),Object(l.jsx)(b,{onSubmit:e.addPerson,buttonText:e.buttonText,inputData:t})]})}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:e.title}),Object(l.jsx)(h,{data:e.persons,handleClick:e.handleClick})]})},j=function(e){var t=e.message;if(null===t)return null;var n="success"===t.type?"success":"error";return Object(l.jsx)("div",{className:n,children:t.msg})},m=n(5),p=n.n(m),v="/api/persons",x={getAll:function(){return p.a.get(v).then((function(e){return e.data}))},create:function(e){return p.a.post(v,e).then((function(e){return e.data}))},update:function(e,t){return p.a.put("".concat(v,"/").concat(e),t).then((function(e){return e.data}))},remove:function(e){return p.a.delete("".concat(v,"/").concat(e)).then((function(e){return e.data}))}},O=function(e){e.data;var t=Object(s.useState)(),n=Object(i.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(""),d=Object(i.a)(c,2),b=d[0],h=d[1],m=Object(s.useState)(""),p=Object(i.a)(m,2),v=p[0],O=p[1],g=Object(s.useState)(!1),w=Object(i.a)(g,2),k=w[0],y=w[1],H=Object(s.useState)(""),T=Object(i.a)(H,2),P=T[0],S=T[1],N=Object(s.useState)(null),C=Object(i.a)(N,2),A=C[0],D=C[1];function E(){return E=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAll();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}Object(s.useEffect)((function(){!function(){E.apply(this,arguments)}()}),[]);var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";D({msg:e,type:t}),setTimeout((function(){D(null)}),5e3)},J=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,u,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={name:b,number:v},!(c=a.find((function(e){return e.name===b})))){e.next=20;break}if(!window.confirm(" ".concat(b," was already added to the phonebook, do you want to replace their phone number ?"))){e.next=17;break}return e.prev=6,e.next=9,x.update(c.id,n);case 9:u=e.sent,r(a.map((function(e){return e.id===u.id?u:e}))),F("".concat(u.name," number was updated.")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),F("Information of ".concat(c.name," was already deleted from the server."),"error");case 17:return h(""),O(""),e.abrupt("return");case 20:return e.next=22,x.create(n);case 22:i=e.sent,r(a.concat(i)),h(""),O(""),F("".concat(n.name,"  was added to the phonebook."));case 27:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){return k?a.filter((function(e){return e.name.match(new RegExp(P,"i"))})):a},B=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.find((function(e){return e.id===t})).name,!window.confirm("Are you sure to delete  ".concat(n," from the phonebook?"))){e.next=7;break}return e.next=5,x.remove(t);case 5:r(a.filter((function(e){return e.id!==t}))),F("".concat(n,"  was deleted from  the phonebook."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Z()?Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{message:A}),Object(l.jsx)(f,{title:"Phonebook",changeHandler:function(e){S(e.target.value),""===e.target.value?y(!1):y(!0)},value:P,label:"filter shown with:",section:"title"}),Object(l.jsx)(f,{title:"Add new number",changeHandlerName:function(e){h(e.target.value)},valueName:b,labelName:"name:",section:"form",changePhoneHandler:function(e){O(e.target.value)},valuePhone:v,labelPhone:"phone:",buttonText:"add",addPerson:J}),Object(l.jsx)(f,{title:"Numbers",persons:Z(),handleClick:B,section:"persons"})]}):null};n(43);r.a.render(Object(l.jsx)(O,{data:[{id:1,content:"HTML is easy",date:"2019-05-30T17:30:31.098Z",important:!0},{id:2,content:"Browser can execute only JavaScript",date:"2019-05-30T18:39:34.091Z",important:!1},{id:3,content:"GET and POST are the most important methods of HTTP protocol",date:"2019-05-30T19:20:14.298Z",important:!0}]}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.012d4c24.chunk.js.map